<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
    <title>DFB-Spiele</title>
	
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
	  
	  .legend {
		font-family: Arial, sans-serif;
		font-size: 12px;
		font-weight: bold;
		background: #fff;
		opacity: 0.85;
		padding: 5px;
		margin: 5px;
		border: 2px solid #999;
		box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
	  }
	  
	  #legend img {
		vertical-align: middle;
	  }
	  
	  #legendTitle {
		font-family: Arial, sans-serif;
		font-size: 12px;
		font-weight: bold;
		text-transform: uppercase;
		opacity: 1;
		padding: 5px;
		margin: 5px;
	  }
	  
	  #shapes {
		font-family: Arial, sans-serif;
		font-size: 12px;
		font-weight: bold;
		text-transform: uppercase;
		opacity: 1;
		padding: 5px;
		margin: 5px;
	  }
    </style>

	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/favicon-196.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/favicon-152.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/favicon-144.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/favicon-120.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/favicon-114.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/favicon-76.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/favicon-72.png">
	<link rel="apple-touch-icon" href="favicon-57.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/favicon-144.png">
	<meta name="msapplication-config" content="/browserconfig.xml">
		
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
    </script>
		
    <script type="text/javascript"
        src="http://maps.google.com/maps/api/js?sensor=false"></script>
		
    <script type="text/javascript" src="lib/js/markerclusterer.js"></script>
		

		
    <script type="text/javascript">
	
		function initialize() {
			var map = new google.maps.Map(document.getElementById('map-canvas'), {
			center: new google.maps.LatLng(25.504721226147495, 12.844390869140625),
			zoom: 2,
			streetViewControl: false
			});
			
			var style = [
					{
					  featureType: 'all',
					  elementType: 'all',
					  stylers: [
						{ saturation: -100 },
						{ lightness: 71 },
						{ gamma: 0.22 },
				//		{ hue: "#c8d2a1" }
					  ]
					},
					{
					  featureType: 'road',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'off' }
					  ]
					},
					{
					  featureType: 'poi',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'simplified' }
					  ]
					},
					{
					  featureType: 'administrative.country',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'simplified' }
					  ]
					},
					{
					  featureType: 'administrative.province',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'off' }
					  ]
					},
					{
					  featureType: 'administrative.locality',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'on' }
					  ]
					},
					{
					  featureType: 'administrative.neighborhood',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'off' }
					  ]
					},
					{
					  featureType: 'administrative.land_parcel',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'off' }
					  ]
					},
					{
					  featureType: 'water',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'simplified' }
					  ]
					},
					{
					  featureType: 'transit',
					  elementType: 'all',
					  stylers: [
						{ visibility: 'off' }
					  ]
					}
				  ];
				  var styledMapType = new google.maps.StyledMapType(style, {
					map: map,
					name: 'Styled Map'
				  });
				  map.mapTypes.set('map-style', styledMapType);
				  map.setMapTypeId('map-style');
			
				  
			var firstLayer = new google.maps.FusionTablesLayer({
				query: 	{
					select: 'kml_4326',
					from: '1Tw6AiwneMrSjdDvv7pgNh5bFB-dtumwPxxWsvbWA'
				},
				options: {
					styleId: 3,
					templateId: 4
				},
				map: map
			});
  
			//var secondLayer = new google.maps.FusionTablesLayer({
			//	query: 	{
			//	select: 'longitude_latitude',
			//	from: '1WukvEi1lbr-5Eo0Xn-Vqi5OKS7jhvt1aPmDdOD8I'
			//	},
			//	options: {
			//		styleId: 2,
			//		templateId: 3
			//	},
			//	map: map
			//});
			
			var query = "SELECT Latitude, Longitude, Icon, 'Nr.', Info, 'W/D/L', 'F(0)/P(1)', 'WM' FROM " +
            '11jvxEY_amSEUy4IaWZE4652trcb3VLUu_x4XMUeD';
			var encodedQuery = encodeURIComponent(query);

			// Construct the URL
			var url = ['https://www.googleapis.com/fusiontables/v1/query'];
			url.push('?sql=' + encodedQuery);
			url.push('&key=AIzaSyAT76tcYefMoGlGrAgBhFFF22W8JhQyQBI');
			url.push('&callback=?');
			
			//example URL
			//https://www.googleapis.com/fusiontables/v1/query?sql=SELECT longitude_latitude FROM 1WukvEi1lbr-5Eo0Xn-Vqi5OKS7jhvt1aPmDdOD8I LIMIT 5&key=AIzaSyAT76tcYefMoGlGrAgBhFFF22W8JhQyQBI

			// Send the JSONP request using jQuery
			$.ajax({
			  url: url.join(''),
			  dataType: 'jsonp',
			  success: function (data) {
				var rows = data['rows'];				
							
				var markers = [];
					for (var i in rows) {
						//insert info window code
						var infoWindow = new google.maps.InfoWindow();
						
						var lat = rows[i][0]
						var lng = rows[i][1]
						var image = rows[i][2]
						var title = rows[i][3]
						var content = rows[i][4]
						var result = rows[i][5]
						var kind = rows[i][6]
						var wmSpiel = rows[i][7]
						var coordinate = new google.maps.LatLng(lat,lng);
												
						var marker = new google.maps.Marker({	'position': coordinate, 
																'icon': image,
																'title': 'Länderspiel #'+title,
															});							
															 
						google.maps.event.addListener(marker, 'click', (function(marker, content) {
						  return function(){
						  infoWindow.setContent('<div style="line-height:1.35;overflow:hidden;white-space:nowrap;">' + content + '</div>');
						  infoWindow.open(map, marker);
						  }
						})(marker, content));
						
			//			google.maps.event.addListener(marker, 'mouseout', function() {
			//				infoWindow.close();
			//			});
												
			//			var showWins = function() {
			//				if (result === 'W') {
			//					markers.push(marker);
			//				}
			//				else {
			//				}
			//			};
						
			//			var hideWins = function() {
			//				if (result === 'L') {
			//					markers.setMap(null);
			//				}
			//				else {
			//				}
			//			};							


											
				//		showWins(i);
				//		showLosses(i);
				
						google.maps.event.addListener(marker, 'mouseover', (function(marker, content) {
						  return function(){
						  infoWindow.setContent('<div style="line-height:1.35;overflow:hidden;white-space:nowrap;">' + content + '</div>');
						  infoWindow.open(map, marker);
						  }
						})(marker, content));
						
						google.maps.event.addListener(marker, 'mouseout', function() {
						infoWindow.close();
						});				
	
						markers.push(marker);		

					  }

					var markerCluster = new MarkerClusterer(map, markers);
				}
			  });
						

			
		}

		google.maps.event.addDomListener(window, 'load', initialize);

    </script>
	
  </head>
  <body>
	<div id="map-canvas"></div>
	
	<div id="legendTitle" style="z-index: 0; position: absolute; bottom: 165px; left: 65px;">Spiele</div>
	
	<div id="legend" class="legend" style="z-index: 0; position: absolute; bottom: 25px; left: 0px;text-transform:uppercase;">
		<table>
			<tr>
				<td align='center'><img src='icons/m4.png'></td>
				<td>Austragungsort</td>
				<td></td>
			</tr>
			<tr>
				<td align='center'><img src='https://dl.dropboxusercontent.com/u/24952823/icons/green_dot.png' id="Win"></td>
				<td>Sieg</td>
				<td><input id="Sieg" type="checkbox" style="margin-right:3px" checked value="W"></td>
			</tr>
			<tr>
				<td align='center'><img src='https://dl.dropboxusercontent.com/u/24952823/icons/blue_dot.png'></td>
				<td>Unentschieden</td>
				<td><input id="Unentschieden" type="checkbox" style="margin-right:3px" checked value="D"></td>
			</tr>
			<tr>
				<td align='center'><img src='https://dl.dropboxusercontent.com/u/24952823/icons/red_dot.png'></td>
				<td>Niederlage</td>
				<td><input id="Niederlage" type="checkbox" style="margin-right:3px" checked value="L"></td>
			</tr>
			<tr>
				<td align='center'><img src='https://dl.dropboxusercontent.com/u/24952823/icons/bw_star.png'></td>
				<td>Pflichtspiel</td>
				<td><input id="Pflichtspiel" type="checkbox" style="margin-right:3px" checked value="1"></td>
			</tr>
		</table>
	</div>
	
	<div id="shapes" style="z-index: 0; position: absolute; bottom: 13px; right: 0px;">
		<div align='center' style='margin-bottom: 5px'>Bilanzen</div>
		<img src='icons/spielanzahl.png'><br>
		<img src='icons/bilanzstatus.png'>
	</div>
	
	<div id="filter" class="legend" style="position: absolute; left: 80px; top: 20px;">
		<label>
			GEGNER:
			<select id="search-string_0" onchange="changeMap_0(this.value);">
			  <option value="--Select--">&mdash; alle &mdash;</option>
			  <option value="&#xC4;gypten">&#xC4;gypten</option>
			  <option value="&#xD6;sterreich">&#xD6;sterreich</option>
			  <option value="Albanien">Albanien</option>
			  <option value="Algerien">Algerien</option>
			  <option value="Argentinien">Argentinien</option>
			  <option value="Armenien">Armenien</option>
			  <option value="Aserbaidschan">Aserbaidschan</option>
			  <option value="Australien">Australien</option>
			  <option value="Belgien">Belgien</option>
			  <option value="Bolivien">Bolivien</option>
			  <option value="Bosnien und Herzegowina">Bosnien und Herzegowina</option>
			  <option value="Brasilien">Brasilien</option>
			  <option value="Bulgarien">Bulgarien</option>
			  <option value="Chile">Chile</option>
			  <option value="China">China</option>
			  <option value="Costa Rica">Costa Rica</option>
			  <option value="D&#xE4;nemark">D&#xE4;nemark</option>
			  <option value="DDR">DDR</option>
			  <option value="Ecuador">Ecuador</option>
			  <option value="Elfenbeink&#xFC;ste">Elfenbeink&#xFC;ste</option>
			  <option value="England">England</option>
			  <option value="Estland">Estland</option>
			  <option value="F&#xE4;r&#xF6;er">F&#xE4;r&#xF6;er</option>
			  <option value="Finnland">Finnland</option>
			  <option value="Frankreich">Frankreich</option>
			  <option value="GUS">GUS</option>
			  <option value="Georgien">Georgien</option>
			  <option value="Ghana">Ghana</option>
			  <option value="Griechenland">Griechenland</option>
			  <option value="Iran">Iran</option>
			  <option value="Irland">Irland</option>
			  <option value="Island">Island</option>
			  <option value="Israel">Israel</option>
			  <option value="Italien">Italien</option>
			  <option value="Japan">Japan</option>
			  <option value="Jugoslawien">Jugoslawien</option>
			  <option value="Kamerun">Kamerun</option>
			  <option value="Kanada">Kanada</option>
			  <option value="Kasachstan">Kasachstan</option>
			  <option value="Kolumbien">Kolumbien</option>
			  <option value="Kroatien">Kroatien</option>
			  <option value="Kuwait">Kuwait</option>
			  <option value="Lettland">Lettland</option>
			  <option value="Liechtenstein">Liechtenstein</option>
			  <option value="Litauen">Litauen</option>
			  <option value="Luxemburg">Luxemburg</option>
			  <option value="Malta">Malta</option>
			  <option value="Marokko">Marokko</option>
			  <option value="Mexiko">Mexiko</option>
			  <option value="Moldawien">Moldawien</option>
			  <option value="Neuseeland">Neuseeland</option>
			  <option value="Niederlande">Niederlande</option>
			  <option value="Nigeria">Nigeria</option>
			  <option value="Nordirland">Nordirland</option>
			  <option value="Norwegen">Norwegen</option>
			  <option value="Oman">Oman</option>
			  <option value="Paraguay">Paraguay</option>
			  <option value="Peru">Peru</option>
			  <option value="Polen">Polen</option>
			  <option value="Portugal">Portugal</option>
			  <option value="Protektorat B&#xF6;hmen und M&#xE4;hren">Protektorat B&#xF6;hmen und M&#xE4;hren</option>
			  <option value="Rum&#xE4;nien">Rum&#xE4;nien</option>
			  <option value="Russland">Russland</option>
			  <option value="S&#xFC;dafrika">S&#xFC;dafrika</option>
			  <option value="S&#xFC;dkorea">S&#xFC;dkorea</option>
			  <option value="Saarland">Saarland</option>
			  <option value="San Marino">San Marino</option>
			  <option value="Saudi-Arabien">Saudi-Arabien</option>
			  <option value="Schottland">Schottland</option>
			  <option value="Schweden">Schweden</option>
			  <option value="Schweiz">Schweiz</option>
			  <option value="Serbien">Serbien</option>
			  <option value="Serbien und Montenegro">Serbien und Montenegro</option>
			  <option value="Slowakei">Slowakei</option>
			  <option value="Slowenien">Slowenien</option>
			  <option value="Sowjetunion">Sowjetunion</option>
			  <option value="Spanien">Spanien</option>
			  <option value="T&#xFC;rkei">T&#xFC;rkei</option>
			  <option value="Thailand">Thailand</option>
			  <option value="Tschechien">Tschechien</option>
			  <option value="Tschechoslowakei">Tschechoslowakei</option>
			  <option value="Tunesien">Tunesien</option>
			  <option value="Ukraine">Ukraine</option>
			  <option value="Ungarn">Ungarn</option>
			  <option value="Uruguay">Uruguay</option>
			  <option value="Vereinigte Arabische Emirate">Vereinigte Arabische Emirate</option>
			  <option value="Vereinigte Staaten">Vereinigte Staaten</option>
			  <option value="Wales">Wales</option>
			  <option value="Weißrussland">Weißrussland</option>
			  <option value="Zypern">Zypern</option>
			</select>
		</label>
	</div>
  </body>
</html>